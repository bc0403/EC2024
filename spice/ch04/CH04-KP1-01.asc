Version 4
SHEET 1 1760 960
WIRE 224 144 192 144
WIRE 224 160 224 144
WIRE 128 192 32 192
WIRE 272 192 208 192
WIRE 448 192 352 192
WIRE 448 256 448 192
WIRE 32 304 32 192
WIRE 816 304 816 272
WIRE 448 368 448 336
WIRE 608 368 448 368
WIRE 448 384 448 368
WIRE 608 384 608 368
WIRE 656 480 656 448
WIRE 32 528 32 384
WIRE 448 528 448 464
WIRE 448 528 32 528
WIRE 608 528 608 464
WIRE 608 528 448 528
WIRE 816 528 816 496
WIRE 32 560 32 528
WIRE 816 720 816 704
FLAG 32 560 0
FLAG 144 144 Vs1
FLAG 816 192 Vs1
FLAG 656 400 Vs2
FLAG 816 416 Vs2
FLAG 224 160 0
FLAG 656 480 0
FLAG 816 720 0
FLAG 816 528 0
FLAG 816 304 0
SYMBOL voltage 32 288 R0
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL res 432 368 R0
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL res 368 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {R2}
SYMBOL ind 432 240 R0
SYMATTR InstName L1
SYMATTR Value {L1}
SYMATTR SpiceLine Rser=0
SYMBOL sw 224 192 R90
SYMATTR InstName S1
SYMATTR Value SW1
SYMBOL sw 608 480 R180
SYMATTR InstName S2
SYMATTR Value SW1
SYMBOL voltage 816 176 R0
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 0 1n 1n {t_sim} {t_sim})
SYMBOL voltage 816 400 R0
SYMATTR InstName V3
SYMATTR Value PULSE(0 1 {t0} 1n 1n {t_sim} {t_sim})
SYMBOL bi 816 624 R0
SYMATTR InstName B_check
SYMATTR Value I=if(time<{t0}, func1(time), func2(time))
TEXT 72 768 Left 2 !.model SW1 SW(Ron=1n Roff=1Meg Vt=.5 Vh=0)
TEXT 72 808 Left 2 !.tran {t_sim}
TEXT 72 552 Left 2 !.param R1 3\n.param R2 2\n.param L1 1\n.param tau1=L1/(R1+R2)\n.param tau2=L1/R2\n.param t0 0.2\n.param t_sim 1\n.func func1(x) {2+(0-2)*exp(-x/tau1)}\n.func func2(x) {5+(func1(t0)-5)*exp(-(x-t0)/tau2)}
